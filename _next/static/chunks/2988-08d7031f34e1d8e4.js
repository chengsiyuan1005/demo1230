"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2988],{3830:function(e,n,t){t.d(n,{Wl:function(){return u},II:function(){return y},ar:function(){return o},NA:function(){return d}});var a=t(30266),r=t(809),i=t.n(r),s=t(70148),p=t(72455),u=function(){var e=(0,a.Z)(i().mark((function e(n,t){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(p.v.baseUrl,"/api/sellorder/"),e.next=3,fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(p.v.accessToken)},body:JSON.stringify({order:n,orderHash:t})});case 3:if(!((r=e.sent).status<400)){e.next=10;break}return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:return s.Am.error("There was an error completing this transaction"),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)(i().mark((function e(n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(p.v.baseUrl,"/api/sellorder/get-timestamps/?duration=").concat(n),e.next=3,fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(p.v.accessToken)}});case 3:if(!((a=e.sent).status<400)){e.next=10;break}return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:return s.Am.error("The current block is cancelled, please try again in a few minutes"),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)(i().mark((function e(n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(p.v.baseUrl,"/api/sellorder/").concat(n,"/"),e.next=3,fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(p.v.accessToken)}});case 3:if(!((a=e.sent).status<400)){e.next=10;break}return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:return s.Am.error("There was an error completing this transaction"),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)(i().mark((function e(n,t,a){var r,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(p.v.baseUrl,"/api/sellorder/?collectionAddress=").concat(n,"&tokenId=").concat(t,"&sellerAddress=").concat(a),e.next=3,fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(p.v.accessToken)}});case 3:if(!((u=e.sent).status<400)){e.next=10;break}return e.next=7,u.json();case 7:return e.abrupt("return",e.sent);case 10:return s.Am.error("There was an error completing this transaction"),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}()},72988:function(e,n,t){t.d(n,{LQ:function(){return w},IJ:function(){return g},x9:function(){return b}});var a=t(30266),r=t(809),i=t.n(r),s=t(24042),p=t(70148),u=t(3830),y=t(93045),o=t(52760),d=t(58451),l=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"campaignId",type:"bytes32"},{indexed:!1,internalType:"string",name:"campaignString",type:"string"},{indexed:!1,internalType:"bool",name:"isActive",type:"bool"}],name:"CampaignRewardToggled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"campaignId",type:"bytes32"},{indexed:!1,internalType:"string",name:"campaignString",type:"string"},{indexed:!1,internalType:"uint256",name:"rewardPerMille",type:"uint256"},{indexed:!1,internalType:"address",name:"manager",type:"address"},{indexed:!1,internalType:"address",name:"royaltyReceiver",type:"address"},{indexed:!1,internalType:"uint256",name:"royaltyPerMille",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxAllowanceInOP",type:"uint256"},{indexed:!1,internalType:"bool",name:"isActive",type:"bool"}],name:"CampaignSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"erc721",type:"address"}],name:"OptimismOGERC721Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"erc721",type:"address"}],name:"OptimismOGERC721Removed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"cancelledPotentialOwner",type:"address"}],name:"OwnershipTransferCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferFinalized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"potentialOwner",type:"address"}],name:"OwnershipTransferInitiated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rewardWrapper",type:"address"}],name:"RewardWrapperSet",type:"event"},{inputs:[],name:"BASELINE_CAMPAIGN_ID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPTIMISM_OG_CAMPAIGN_ID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"acceptOwnershipTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_erc721",type:"address"}],name:"addOptimismOGERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cancelOwnershipTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_campaignString",type:"string"}],name:"getCampaign",outputs:[{components:[{internalType:"string",name:"campaignString",type:"string"},{internalType:"uint256",name:"rewardPerMille",type:"uint256"},{internalType:"address",name:"manager",type:"address"},{internalType:"address",name:"royaltyReceiver",type:"address"},{internalType:"uint256",name:"royaltyPerMille",type:"uint256"},{internalType:"uint256",name:"maxAllowanceInOP",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"}],internalType:"struct Campaign",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOptimismOGERC721s",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_campaignString",type:"string"},{internalType:"uint256",name:"_considerationAmountInOP",type:"uint256"}],name:"getRewardAmountInOP",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"contract IRewardWrapper",name:"_rewardWrapper",type:"address"},{components:[{internalType:"string",name:"campaignString",type:"string"},{internalType:"uint256",name:"rewardPerMille",type:"uint256"},{internalType:"address",name:"manager",type:"address"},{internalType:"address",name:"royaltyReceiver",type:"address"},{internalType:"uint256",name:"royaltyPerMille",type:"uint256"},{internalType:"uint256",name:"maxAllowanceInOP",type:"uint256"},{internalType:"bool",name:"isActive",type:"bool"}],internalType:"struct Campaign[]",name:"_campaigns",type:"tuple[]"},{internalType:"address[]",name:"_optimismOGERC721s",type:"address[]"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"initiateOwnershipTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"isOptimismOGHolder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"potentialOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_erc721",type:"address"}],name:"removeOptimismOGERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardWrapper",outputs:[{internalType:"contract IRewardWrapper",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_campaignString",type:"string"},{internalType:"uint256",name:"_rewardPerMille",type:"uint256"},{internalType:"address",name:"_manager",type:"address"},{internalType:"address",name:"_royaltyReceiver",type:"address"},{internalType:"uint256",name:"_royaltyPerMille",type:"uint256"},{internalType:"uint256",name:"_maxAllowanceInOP",type:"uint256"},{internalType:"bool",name:"_isActive",type:"bool"}],name:"setCampaign",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IRewardWrapper",name:"_rewardWrapper",type:"address"}],name:"setRewardWrapper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_campaignString",type:"string"}],name:"toggleRewardsForCampaign",outputs:[],stateMutability:"nonpayable",type:"function"}],c=[{inputs:[{internalType:"address",name:"_marketplaceOwner",type:"address"},{internalType:"address",name:"_rewardWrapper",type:"address"},{internalType:"address",name:"_campaignTracker",type:"address"},{internalType:"address",name:"_marketplaceFeeRecipient",type:"address"},{internalType:"uint256",name:"_marketplaceFeePerMille",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"campaignTracker",type:"address"}],name:"CampaignTrackerSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"marketplaceFeePerMille",type:"uint256"}],name:"MarketplaceFeePerMilleSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"marketplaceFeeRecipient",type:"address"}],name:"MarketplaceFeeRecipientSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"cancelledPotentialOwner",type:"address"}],name:"OwnershipTransferCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferFinalized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"potentialOwner",type:"address"}],name:"OwnershipTransferInitiated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"rewardWrapper",type:"address"}],name:"RewardWrapperSet",type:"event"},{inputs:[],name:"BASELINE_CAMPAIGN_STRING",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"COLLECTION_BOOST_PREFIX",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPTIMISM_OG_CAMPAIGN_STRING",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"acceptOwnershipTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"campaignTracker",outputs:[{internalType:"contract ICampaignTracker",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cancelOwnershipTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ethUsdPriceFeed",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"offerer",type:"address"},{internalType:"address",name:"zone",type:"address"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"}],internalType:"struct OfferItem[]",name:"offer",type:"tuple[]"},{components:[{internalType:"enum ItemType",name:"itemType",type:"uint8"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"identifierOrCriteria",type:"uint256"},{internalType:"uint256",name:"startAmount",type:"uint256"},{internalType:"uint256",name:"endAmount",type:"uint256"},{internalType:"address payable",name:"recipient",type:"address"}],internalType:"struct ConsiderationItem[]",name:"consideration",type:"tuple[]"},{internalType:"enum OrderType",name:"orderType",type:"uint8"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"bytes32",name:"zoneHash",type:"bytes32"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes32",name:"conduitKey",type:"bytes32"},{internalType:"uint256",name:"totalOriginalConsiderationItems",type:"uint256"}],internalType:"struct OrderParameters",name:"parameters",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct Order",name:"_order",type:"tuple"},{internalType:"address",name:"_recipient",type:"address"}],name:"getRewardInOP",outputs:[{components:[{internalType:"string",name:"campaignString",type:"string"},{internalType:"uint256",name:"rewardAmountInOP",type:"uint256"}],internalType:"struct RewardInfo[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"initiateOwnershipTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"marketplaceFeePerMille",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplaceFeeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"opUsdPriceFeed",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"potentialOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardWrapper",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardsTurnedOn",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ICampaignTracker",name:"_campaignTracker",type:"address"}],name:"setCampaignTracker",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_marketplaceFeePerMille",type:"uint256"}],name:"setMarketplaceFeePerMille",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_marketplaceFeeRecipient",type:"address"}],name:"setMarketplaceFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rewardWrapper",type:"address"}],name:"setRewardWrapper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"turnRewardsOff",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"turnRewardsOn",outputs:[],stateMutability:"nonpayable",type:"function"}];function m(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,p=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){p=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(p)throw i}}}}function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}var f=function(e){return"COLLECTION_BOOST_".concat(e.toLowerCase())},b=function(){var e=(0,a.Z)(i().mark((function e(n){var t,a,r,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.OD)();case 2:return e.next=4,(0,d.TC)();case 4:return t=e.sent,a=new s.CH(y.J.CAMPAIGN_TRACKER_ADDRESS,l,t),r=f(n),e.prev=7,e.next=10,a.toggleRewardsForCampaign(r);case 10:return u=e.sent,e.abrupt("return",u.hash);case 14:return e.prev=14,e.t0=e.catch(7),p.Am.error("There was an error toggling the rewards campaign"),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,a.Z)(i().mark((function e(n,t){var a,r,p,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.ar)(n);case 2:return a=e.sent,r=JSON.parse(a.order_json),e.next=6,(0,d.TC)();case 6:return p=e.sent,o=new s.CH(y.J.rewardsDeriver,c,p),e.next=10,o.getRewardInOP(r,t);case 10:return l=e.sent,e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)(i().mark((function e(n,t){var a,r,p,o,l,T,f,b,w,g,v,O,h,M,x,k,I;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=m(n),e.prev=2,r.s();case 4:if((p=r.n()).done){e.next=13;break}return o=p.value,e.next=8,(0,u.ar)(o);case 8:l=e.sent,T=JSON.parse(l.order_json),a.push({order:T});case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.next=23,(0,d.TC)();case 23:f=e.sent,b=new s.CH(y.J.rewardsDeriver,c,f),w=[],g=0,v=a;case 27:if(!(g<v.length)){e.next=37;break}return O=v[g],e.t1=w,e.next=32,b.getRewardInOP(O.order,t);case 32:e.t2=e.sent,e.t1.push.call(e.t1,e.t2);case 34:g++,e.next=27;break;case 37:for(M in h={},w)for(x in w[M])k=w[M][x][0],I=Number(w[M][x][1].toString()),h[k]?h[k]+=I:h[k]=I;return w=Object.keys(h).map((function(e){return[e,h[e]]})),e.abrupt("return",w);case 41:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(n,t){return e.apply(this,arguments)}}()}}]);